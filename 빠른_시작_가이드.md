# ë¡œì»¬ ì„œë²„ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

**ëª©ì **: ë¡œì»¬ ì»´í“¨í„°ë¥¼ 24/7 ìš´ì˜ ê°€ëŠ¥í•œ í”„ë¡ì‹œ ì„œë²„ë¡œ êµ¬ì„±

---

## ğŸš€ ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•: PM2 (5ë¶„)

### 1ë‹¨ê³„: PM2 ì„¤ì¹˜ ë° í”„ë¡ì‹œ ì„œë²„ ì‹¤í–‰

```bash
cd /Users/hasanghyeon/brother_site/muyi-giftcard

# PM2 ì„¤ì¹˜
npm install -g pm2

# í”„ë¡ì‹œ ì„œë²„ ì‹¤í–‰
pm2 start proxy-server.js --name chlifes-proxy

# ìë™ ì‹œì‘ ì„¤ì •
pm2 startup
# ì¶œë ¥ëœ ëª…ë ¹ì–´ ì‹¤í–‰ (sudo ê¶Œí•œ í•„ìš”)

# ì„¤ì • ì €ì¥
pm2 save
```

### 2ë‹¨ê³„: Cloudflare Tunnel ì‹¤í–‰

```bash
# Cloudflare ë¡œê·¸ì¸ (ìµœì´ˆ 1íšŒ)
cloudflared tunnel login

# í„°ë„ ìƒì„± (ìµœì´ˆ 1íšŒ)
cloudflared tunnel create chlifes-proxy

# PM2ë¡œ í„°ë„ ì‹¤í–‰
pm2 start --name chlifes-tunnel -- cloudflared tunnel run chlifes-proxy --url http://localhost:3001
pm2 save
```

### 3ë‹¨ê³„: URL í™•ì¸ ë° Vercel ì„¤ì •

```bash
# Tunnel URL í™•ì¸
pm2 logs chlifes-tunnel | grep -i "trycloudflare"

# Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add CHLIFES_PROXY_URL production
# ê°’: https://xxxx-xxxx-xxxx.trycloudflare.com/proxy/chlifes
```

---

## ğŸ³ Docker ë°©ë²• (10ë¶„)

### 1ë‹¨ê³„: Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° ì‹¤í–‰

```bash
cd /Users/hasanghyeon/brother_site/muyi-giftcard

# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t chlifes-proxy .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d

# ìƒíƒœ í™•ì¸
docker-compose ps
```

### 2ë‹¨ê³„: Cloudflare Tunnel ì‹¤í–‰

```bash
# ë³„ë„ í„°ë¯¸ë„ì—ì„œ
cloudflared tunnel run chlifes-proxy --url http://localhost:3001
```

---

## ğŸ“‹ ìë™ ì‹¤í–‰ ì„¤ì •

### PM2 ìë™ ì‹œì‘

```bash
# ìë™ ì‹œì‘ ì„¤ì •
pm2 startup

# ì¶œë ¥ ì˜ˆì‹œ:
# [PM2] Init System found: launchd
# [PM2] To setup the Startup Script, copy/paste the following command:
# sudo env PATH=... pm2 startup launchd -u hasanghyeon --hp /Users/hasanghyeon

# ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰
sudo env PATH=$PATH:/Users/hasanghyeon/.nvm/versions/node/v20.19.5/bin pm2 startup launchd -u hasanghyeon --hp /Users/hasanghyeon

# ì„¤ì • ì €ì¥
pm2 save
```

### Docker ìë™ ì‹œì‘

Docker Desktop â†’ Settings â†’ General â†’ "Start Docker Desktop when you log in" ì²´í¬

---

## âœ… í™•ì¸ ë°©ë²•

### PM2 ìƒíƒœ í™•ì¸

```bash
pm2 status
pm2 logs chlifes-proxy
```

### Docker ìƒíƒœ í™•ì¸

```bash
docker-compose ps
docker-compose logs -f
```

### í—¬ìŠ¤ ì²´í¬

```bash
curl http://localhost:3001/health
```

---

## ğŸ¯ ì¶”ì²œ ë°©ë²•

### ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ë ¤ë©´: PM2 â­â­â­â­â­
- ê°€ì¥ ê°„ë‹¨
- 5ë¶„ì´ë©´ ì™„ë£Œ
- ìë™ ì¬ì‹œì‘ ë³´ì¥

### ê²©ë¦¬ëœ í™˜ê²½ì´ í•„ìš”í•˜ë©´: Docker â­â­â­â­
- ê²©ë¦¬ëœ í™˜ê²½
- ë°°í¬ ìš©ì´
- 10ë¶„ì´ë©´ ì™„ë£Œ

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-09

