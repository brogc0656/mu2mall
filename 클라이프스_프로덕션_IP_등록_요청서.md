# 클라이프스 프로덕션 IP 등록 요청서

**작성일**: 2025-11-09  
**요청자**: Brother 개발팀  
**목적**: Vercel 배포 환경에서 프로덕션 API 접근

---

## 📋 요청 사항

### 문제 상황
- Vercel 플랫폼에서 클라이프스 프로덕션 API를 호출해야 함
- Vercel은 **동적 IP**를 사용하여 고정 IP를 제공하지 않음
- 프로덕션 API는 **IP 화이트리스트** 필수

### 현재 상황
- ✅ 개발 환경: 정상 작동 (`devapi.chlifes.co.kr`)
- ❌ 프로덕션 환경: IP 화이트리스트 미등록으로 접근 불가

---

## 💡 해결 방안 제안

### 방안 1: Vercel IP 범위 등록 (권장)

**요청 내용**:
Vercel의 아웃바운드 IP 범위 전체를 프로덕션 서버 화이트리스트에 추가

**Vercel IP 범위** (확인 필요):
- Vercel 지원팀에 문의하여 정확한 IP 범위 확인
- 또는 Vercel 공식 문서 참조

**장점**:
- ✅ 코드 변경 불필요
- ✅ 가장 간단한 방법

---

### 방안 2: 대체 인증 방식

**요청 내용**:
IP 기반 인증 대신 다음 중 하나로 변경:

1. **API Key 기반 인증**
   - 요청 헤더에 API Key 포함
   - IP 무관하게 인증 가능

2. **도메인 기반 허용**
   - `*.vercel.app` 도메인에서의 요청 허용
   - IP 대신 도메인으로 인증

3. **서명 기반 인증**
   - 요청 데이터 서명 검증
   - IP 무관하게 보안 보장

**장점**:
- ✅ 동적 IP 환경에서도 작동
- ✅ 더 유연한 보안 정책

---

### 방안 3: 특정 IP 등록 (임시)

**요청 내용**:
테스트 목적으로 다음 IP를 임시 등록:

```
현재 확인된 IP: 180.80.147.23 (Vercel 아웃바운드 IP)
```

**주의사항**:
- ⚠️ Vercel은 동적 IP를 사용하므로 이 IP가 항상 사용되는 것은 아님
- ⚠️ 임시 테스트용으로만 사용 가능

---

## 📞 연락처

**클라이프스 API 지원팀**

---

## ✅ 다음 단계

1. **즉시**: 클라이프스에 위 방안 중 하나 선택 요청
2. **협의**: 가능한 방안 확인 및 구현 방법 논의
3. **구현**: 선택된 방안에 따라 설정 진행

---

**감사합니다.**

